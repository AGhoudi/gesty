{% extends "OCProjectBundle::template.html.twig" %}

{% block header %}

    <div class="header-content clearfix">
        <a class="logo" href="{{ path('oc_project_home') }}">GESTY</a>
        <nav class="navigation" role="navigation">
            <ul class="primary-nav">
                <span><a href="{{ path('oc_project_home') }}">Accueil</a></span>
                <span><a href="{{ path('oc_project_member') }}">Espace membre</a></span>
                <span><a  class="connexion" href=""><i class="fas fa-user vert"></i>{{ app.user.username }}</a></span>
                <span><a class="deconnexion" href="{{ path('fos_user_security_logout') }}"><i class="fas fa-user rouge"></i>Se déconnecter</a></span>
            </ul>
        </nav>
        <a href="#" class="nav-toggle">Menu<span></span></a>
    </div><!-- header content -->

{% endblock %}

{% block body %}

    <div class="container-fluid">
        <div class="row d-flex justify-content-center one">
            <div class="sm-col-12 d-flex justify-content-center">
                <h2  class="text-white text-center container my-5">L'outil liste de tâches vous permettra de mettre en place une liste de tâches à accomplir</h2>
            </div>
            <div class="container sm-col-10 card contenant">
                <img class="card-img-top checklist" src="{{ asset('images/checklist.jpg') }}" alt="">
                <div class="card-body corps">

                    {{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}

                    {{ form_errors(form) }}

                    <div class="form-group d-flex justify-content-center">

                        <p class="d-flex justify-content-center"><a type="button" class="btn btn-danger d-flex justify-content-center text-center bn_membre" href="{{ path('oc_project_member') }}">
                                <i class="fas fa-chevron-circle-left  mr-2 mt-1"></i> Retourner à l'espace membre
                        </a>
                        </p>

                        <h3 class="text-center font-weight-bold">{{ form_label(form.list, "Ma liste de tâches")}}</h3>

                        {{ form_errors(form.list) }}

                        <div class="col-sm-10 container">
                            {{ form_widget(form.list, {'attr': {'placeholder': 'ajouter une tâche'}}) }}
                        </div>
                        <div class="col-sm-10 container">
                            <span class="d-flex justify-content-center my-3">{{ form_widget(form.ajouter) }}</span>
                        </div>

                    </div>

                        {{ form_rest(form) }}

                        {{ form_end(form) }}

                        <ul  class="container my-3 liste">

                            {% for advert in listAdverts %}

                                <li class=" my-2 font-weight-bold text-center">
                                    <h4  class="text-center titre">

                                    {% if advert.checked == true %}
                                        <span style="text-decoration: line-through">{{ advert.list }}</span>
                                    {% else %}
                                        {{ advert.list }}
                                    {% endif %}

                                    <a type="button" class="btn btn-success d-flex justify-content-center cocher" href="{{ path('oc_project_check', {'id': advert.id}) }}">
                                        {% if advert.checked == true %}
                                            <i class="far fa-check-circle mr-2 mt-1"></i>coché
                                        {% else %}
                                            <i class="far fa-times-circle mr-2 mt-1"></i>décoché
                                        {% endif %}
                                    </a>
                                    </h4>
                                    <div class="lien" >
                                        <a type="button" class="btn btn-success d-flex justify-content-center" href="{{ path('oc_project_edit', {'id': advert.id}) }}">
                                            <i class="fas fa-edit  mr-1 mt-1"></i>modifier
                                        </a>
                                        <a type="button" class="btn btn-danger d-flex justify-content-center text-center" href="{{ path('oc_project_delete', {'id': advert.id}) }}">
                                            <i class="fas fa-window-close  mr-2 mt-1"></i> supprimer
                                        </a><br>
                                    </div>
                                </li>

                            {% endfor %}

                        </ul>

                    </div>
                </div>
            </div>
        </div>

{% endblock %}